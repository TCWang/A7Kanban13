import{_ as x}from"./nuxt-link.tahZLEmN.js";import{u as w,q as C}from"./query.wh1toJ5f.js";import{_ as D,I as b,H as k,c as r,a as e,F as $,i as A,g as I,o as i,b as S,w as q,J as B,t as d,p as F,e as N}from"./entry.AqK2R_gp.js";import"./preview.M5QGBhgt.js";const h=a=>(F("data-v-ad2363cf"),a=a(),N(),a),L={class:"w-full max-w-6xl not-prose"},V=h(()=>e("h2",null,"採購指南",-1)),z=h(()=>e("div",{class:"column"},[e("div",{class:"ml-8"},"類別"),e("div",{class:"ml-16"},"標題"),e("div",{class:"ml-28"},"日期")],-1)),E={class:"pl-8"},H={class:"pl-4"},J={__name:"index",async setup(a){let o,u;const{data:_}=([o,u]=b(()=>w("guide-list",()=>C("/guide").where({_path:{$ne:"/guide"}}).only(["_path","title","publishedAt","category","author","sequence","link"]).sort({publishedAt:-1}).sort({category:1}).find())),o=await o,u(),o),g=k(()=>{if(!_.value)return[];const l=[];let n=null;for(const s of _.value){const t=new Date(s.publishedAt),m=t.getFullYear(),p=t.getMonth()+1,y=t.getDate(),f=`${m}-${p<10?"0":""}${p}-${y<10?"0":""}${y}`,c=s.category,v=c!==n;s.displayCategory=v,s.categorykeep=c,s.fullDate=f,l.push(s),n=c}return l});return(l,n)=>{const s=x;return i(),r("section",L,[V,z,e("ul",null,[(i(!0),r($,null,A(I(g),t=>(i(),r("li",{style:{"list-style":"none"},key:t._path},[S(s,{to:t._path,class:"column hover:bg-gray-100 dark:hover:bg-gray-800"},{default:q(()=>[e("div",{class:B({"text-white ":!t.displayCategory,"text-gray-900":t.displayCategory})},d(t.category),3),e("div",E,d(t.title),1),e("div",H,d(t.fullDate),1)]),_:2},1032,["to"])]))),128))])])}}},K=D(J,[["__scopeId","data-v-ad2363cf"]]);export{K as default};
